<!DOCTYPE html><script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script><html lang="es" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Administración de Alumnos | CBTA 71</title><link rel="icon" href="/Logo.png" type="image/png"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/Dashboard.BJo2pYvK.css">
<style>:root{--ui-primary: #2D584C;--status-pending-bg: #FFEBE6;--status-pending-text: #B35F4C;--status-current-bg: #EAF4E9;--status-current-text: #50784D}body{font-family:Inter,sans-serif;background-color:#f8f9fa}.badge-pending[data-astro-cid-65fecvdy]{background-color:var(--status-pending-bg);color:var(--status-pending-text)}.badge-current[data-astro-cid-65fecvdy]{background-color:var(--status-current-bg);color:var(--status-current-text)}#filter-menu[data-astro-cid-65fecvdy]{display:none;animation:fadeIn .2s ease-out}#filter-menu[data-astro-cid-65fecvdy].active{display:block}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
body{font-family:Inter,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--BACKGROUND_COLOR);color:var(--TEXT_COLOR_DARK)}.sidebar-closed[data-astro-cid-sckkx6r4]{transform:translate(-100%)}.transition-transform-fast[data-astro-cid-sckkx6r4]{transition:transform .3s cubic-bezier(.25,.46,.45,.94)}#sidebar-menu[data-astro-cid-sckkx6r4]{scrollbar-width:none}#sidebar-menu[data-astro-cid-sckkx6r4]::-webkit-scrollbar{width:0;height:0}.content-fade-in[data-astro-cid-sckkx6r4]{animation:fadeIn .8s cubic-bezier(.19,1,.22,1)}@keyframes fadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.nav-active[data-astro-cid-sckkx6r4]{background-color:#fff;color:var(--PRIMARY_COLOR);font-weight:700;box-shadow:0 4px 12px #00000026;border-left:5px solid var(--ACCENT_COLOR);padding-left:1rem}.nav-inactive[data-astro-cid-sckkx6r4]:hover{background-color:#fff3;color:#fff}
</style><script type="module" src="/_astro/page.CZQmTZnr.js"></script></head> <body class="flex min-h-screen antialiased" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <nav id="sidebar-menu" class="bg-[#2e594d] text-white flex-col p-5 shadow-2xl z-50 overflow-y-auto
		fixed inset-0 w-full max-w-[250px] h-full transition-transform-fast sidebar-closed
		md:fixed md:top-0 md:flex md:h-screen md:w-[250px] md:shadow-lg md:rounded-r-xl" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;">  <button id="close-sidebar-button" class="md:hidden absolute top-3 right-3 p-2 rounded-full bg-white/20 hover:bg-white/40 z-50 transition text-white" aria-label="Cerrar menú lateral" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M18 6l-12 12" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M6 6l12 12" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg> </button>  <div class="flex items-center gap-4 mb-10 pt-3 border-b border-white/10 pb-4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <div class="h-10 w-10" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <img src="/Logo.png" alt="Logo CBTA 71" class="w-full h-full object-contain" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> </div> <div data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <h1 class="text-xl font-extrabold tracking-wide" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;">CBTA 71</h1> <p class="text-xs opacity-80" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;">Sistema Administrativo</p> </div> </div>  <div class="flex-grow overflow-y-auto pr-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <ul id="main-navigation" class="space-y-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;">  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/Dashboard" data-path="/Dashboard" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M3 3v18h18" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M18 17v-4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M12 17v-8" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M6 17v-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Dashboard
</a> </li>  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/concepts" data-path="/concepts" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M13.5 6.5l4 4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M19 16v3h-3" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Conceptos
</a> </li>  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/students" data-path="/students" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M16 3.125a4 4 0 1 1 0 7.75" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Estudiantes
</a> </li>  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/payments" data-path="/payments" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M9 14h-2a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M12 17v-1h-3a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3v1" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Pagos
</a> </li>  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/debts" data-path="/debts" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M14 3v4a1 1 0 0 0 1 1h4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M10 12l4 4m0 -4l-4 4" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Adeudos
</a> </li>  <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/roles" data-path="/roles" class="nav-link nav-inactive flex items-center gap-4 py-3 px-4 rounded-lg transition-all duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M12 10a2 2 0 0 1 2 2a2 2 0 0 1 2 2a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2a2 2 0 0 1 2 -2a2 2 0 0 1 2 -2z" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Roles y Usuarios
</a> </li> </ul> </div>  <div class="mt-auto pt-4 border-t border-white/10" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <ul class="space-y-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <li data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <a href="/logout" class="flex items-center gap-4 py-3 px-4 rounded-lg text-white hover:bg-white/10 transition-colors duration-200" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M7 12h14l-3 -3m0 6l3 -3" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg>
Salir
</a> </li> </ul> </div> </nav>  <main class="flex-1 p-4 md:p-8 overflow-y-auto md:ml-[250px] relative" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;">  <button id="open-sidebar-button" class="md:hidden fixed top-4 left-4 p-3 rounded-xl bg-[${PRIMARY_COLOR}] text-white shadow-xl z-40 transition hover:bg-[#256d5e]" aria-label="Abrir menú lateral" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M4 6l16 0" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M4 12l16 0" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path><path d="M4 18l16 0" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></path></svg> </button> <div class="h-16 md:hidden" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"></div>  <div class="bg-white p-6 md:p-8 rounded-xl shadow-2xl content-fade-in min-h-[calc(100vh-4rem)]" data-astro-cid-sckkx6r4 style="--PRIMARY_COLOR: #2e594d;--ACCENT_COLOR: #86efad;--BACKGROUND_COLOR: #d9dde2;--TEXT_COLOR_DARK: #374151;"> <div class="max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-10 min-h-screen" data-astro-cid-65fecvdy><header class="flex flex-wrap items-center justify-between mb-8 gap-4 border-b pb-6 border-gray-200" data-astro-cid-65fecvdy><div class="flex items-center gap-4" data-astro-cid-65fecvdy><div class="p-2 sm:p-3 bg-emerald-100 rounded-2xl text-emerald-800 shrink-0" data-astro-cid-65fecvdy><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-65fecvdy><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-astro-cid-65fecvdy></path><circle cx="9" cy="7" r="4" data-astro-cid-65fecvdy></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87" data-astro-cid-65fecvdy></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-astro-cid-65fecvdy></path></svg></div><div data-astro-cid-65fecvdy><h1 class="text-xl sm:text-3xl font-black text-gray-900 tracking-tight leading-tight" data-astro-cid-65fecvdy>Administración de Alumnos</h1><p class="text-gray-500 text-xs sm:text-sm italic" data-astro-cid-65fecvdy>Control académico y financiero</p></div></div><button id="export-xlsx" class="flex items-center gap-2 px-5 py-2.5 rounded-xl bg-emerald-700 text-white font-bold shadow-lg hover:bg-emerald-800 transition transform active:scale-95 text-xs sm:text-sm" data-astro-cid-65fecvdy><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-65fecvdy><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-astro-cid-65fecvdy></path><polyline points="7 10 12 15 17 10" data-astro-cid-65fecvdy></polyline><line x1="12" y1="15" x2="12" y2="3" data-astro-cid-65fecvdy></line></svg>
EXPORTAR REPORTE
</button></header><div class="relative flex items-center gap-2 mb-6" data-astro-cid-65fecvdy><button id="filter-btn" class="flex items-center justify-center p-2.5 sm:px-4 sm:py-2.5 rounded-xl border-2 border-emerald-400 bg-emerald-50 text-emerald-700 font-bold hover:bg-emerald-100 transition shadow-sm shrink-0" data-astro-cid-65fecvdy><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-65fecvdy><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" data-astro-cid-65fecvdy></polygon></svg><span class="hidden sm:inline ml-2 text-sm" data-astro-cid-65fecvdy>Filtros</span></button><div class="relative flex-1 min-w-0" data-astro-cid-65fecvdy><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400" data-astro-cid-65fecvdy><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-65fecvdy><circle cx="11" cy="11" r="8" data-astro-cid-65fecvdy></circle><line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-65fecvdy></line></svg></span><input id="search" placeholder="Buscar por nombre o matrícula..." class="w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-500 outline-none transition bg-white text-sm" data-astro-cid-65fecvdy></div><div id="filter-menu" class="absolute top-full left-0 z-50 w-full sm:w-80 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-6" data-astro-cid-65fecvdy><h3 class="text-gray-800 font-black mb-4 border-b pb-2" data-astro-cid-65fecvdy>Opciones de Filtrado</h3><div class="space-y-4" data-astro-cid-65fecvdy><div data-astro-cid-65fecvdy><label class="block text-xs font-bold text-gray-400 uppercase mb-1" data-astro-cid-65fecvdy>Programa Educativo:</label><select id="filter-carrera" class="w-full px-3 py-2 rounded-lg border border-gray-200 text-sm outline-none focus:border-emerald-500 bg-gray-50" data-astro-cid-65fecvdy><option value="" data-astro-cid-65fecvdy>Todos los Programas</option><option value="TAG-E" data-astro-cid-65fecvdy>Técnico Agropecuario</option><option value="TOF" data-astro-cid-65fecvdy>Técnico en Ofimática</option><option value="TEM" data-astro-cid-65fecvdy>Técnico en Admón. de Emprendimiento</option><option value="TAG-M" data-astro-cid-65fecvdy>Técnico Agropecuario (modalidad mixta)</option><option value="TRH" data-astro-cid-65fecvdy>Técnico en Admón. de Recursos Humanos (modalidad mixta)</option></select></div><div data-astro-cid-65fecvdy><label class="block text-xs font-bold text-gray-400 uppercase mb-1" data-astro-cid-65fecvdy>Nivel Semestral:</label><select id="filter-semestre" class="w-full px-3 py-2 rounded-lg border border-gray-200 text-sm outline-none focus:border-emerald-500 bg-gray-50" data-astro-cid-65fecvdy><option value="" data-astro-cid-65fecvdy>Todos los Semestres</option><option value="1" data-astro-cid-65fecvdy>1º Semestre</option><option value="2" data-astro-cid-65fecvdy>2º Semestre</option><option value="3" data-astro-cid-65fecvdy>3º Semestre</option><option value="4" data-astro-cid-65fecvdy>4º Semestre</option><option value="5" data-astro-cid-65fecvdy>5º Semestre</option><option value="6" data-astro-cid-65fecvdy>6º Semestre</option><option value="7" data-astro-cid-65fecvdy>7º Semestre</option><option value="8" data-astro-cid-65fecvdy>8º Semestre</option><option value="9" data-astro-cid-65fecvdy>9º Semestre</option><option value="10" data-astro-cid-65fecvdy>10º Semestre</option></select></div><div data-astro-cid-65fecvdy><label class="block text-xs font-bold text-gray-400 uppercase mb-1" data-astro-cid-65fecvdy>Estado de Pago:</label><select id="filter-adeudo" class="w-full px-3 py-2 rounded-lg border border-gray-200 text-sm outline-none focus:border-emerald-500 bg-gray-50" data-astro-cid-65fecvdy><option value="" data-astro-cid-65fecvdy>Cualquier estado</option><option value="pendiente" data-astro-cid-65fecvdy>Con Adeudo</option><option value="corriente" data-astro-cid-65fecvdy>Al Corriente</option></select></div><button id="clear-filters" class="w-full mt-2 py-2.5 rounded-xl bg-red-50 text-red-600 font-bold border border-red-100 hover:bg-red-200 transition flex items-center justify-center gap-2 text-xs" data-astro-cid-65fecvdy>
Limpiar Filtros
</button></div></div></div><section class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden" data-astro-cid-65fecvdy><div class="overflow-x-auto" data-astro-cid-65fecvdy><table class="min-w-full text-sm" data-astro-cid-65fecvdy><thead class="bg-[#2D584C] text-white text-left" data-astro-cid-65fecvdy><tr data-astro-cid-65fecvdy><th class="px-6 py-4 font-bold uppercase tracking-wider" data-astro-cid-65fecvdy>N. Control</th><th class="px-6 py-4 font-bold uppercase tracking-wider" data-astro-cid-65fecvdy>Nombre Completo</th><th class="px-6 py-4 font-bold uppercase tracking-wider text-center" data-astro-cid-65fecvdy>Sem.</th><th class="px-6 py-4 font-bold uppercase tracking-wider" data-astro-cid-65fecvdy>Carrera</th><th class="px-6 py-4 font-bold uppercase tracking-wider text-center" data-astro-cid-65fecvdy>Estado</th><th class="px-6 py-4 font-bold uppercase tracking-wider text-right" data-astro-cid-65fecvdy>Adeudo</th></tr></thead><tbody id="tbody-desktop" class="divide-y divide-gray-100 text-gray-700" data-astro-cid-65fecvdy></tbody></table></div><div class="px-6 py-4 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4" data-astro-cid-65fecvdy><span id="pagination-info" class="text-[11px] font-bold text-gray-400 uppercase tracking-widest italic" data-astro-cid-65fecvdy></span><div id="pagination-controls" class="flex items-center gap-1" data-astro-cid-65fecvdy></div></div><div id="no-results" class="hidden text-center text-gray-400 py-20 text-lg italic" data-astro-cid-65fecvdy>No hay alumnos que coincidan.</div></section></div><div id="data-store" data-students="[]" data-career-map="{&#34;&#34;:&#34;Sin Carrera&#34;,&#34;TAG-E&#34;:&#34;Técnico Agropecuario&#34;,&#34;TOF&#34;:&#34;Técnico en Ofimática&#34;,&#34;TEM&#34;:&#34;Técnico en Admón. de Emprendimiento&#34;,&#34;TAG-M&#34;:&#34;Técnico Agropecuario (modalidad mixta)&#34;,&#34;TRH&#34;:&#34;Técnico en Admón. de Recursos Humanos (modalidad mixta)&#34;}" data-astro-cid-65fecvdy></div><script type="module">
const STORAGE_KEY = 'studentsList';
const ITEMS_PER_PAGE = 50;
let currentPage = 1;

const dataStore = document.getElementById('data-store');
const initial = JSON.parse(dataStore.dataset.students);
const CAREER_MAP = JSON.parse(dataStore.dataset.careerMap);

let filters = { text:'', carrera:'', semestre:'', adeudo:'' };

const filterBtn = document.getElementById('filter-btn');
const filterMenu = document.getElementById('filter-menu');
const searchInput = document.getElementById('search');
const filterCarrera = document.getElementById('filter-carrera');
const filterSemestre = document.getElementById('filter-semestre');
const filterAdeudo = document.getElementById('filter-adeudo');
const clearFiltersButton = document.getElementById('clear-filters');
const tbodyDesktop = document.getElementById('tbody-desktop'); 
const noResults = document.getElementById('no-results');
const paginationInfo = document.getElementById('pagination-info');
const paginationControls = document.getElementById('pagination-controls');

// Interacción Menú Filtros
filterBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  filterMenu.classList.toggle('active');
});

document.addEventListener('click', (e) => {
    if (!filterBtn.contains(e.target) && !filterMenu.contains(e.target)) {
        filterMenu.classList.remove('active');
    }
});

// Funciones de Datos
function readLocal(){
  try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || initial; } catch { return initial; }
}

function getChargesSum(id){
  try {
    const c = JSON.parse(localStorage.getItem('chargesList') || '[]');
    return c.filter(x => String(x.studentId) === String(id) && (x.status === 'pending' || x.status === 'pendiente'))
            .reduce((s,x)=>s+Number(x.amount),0);
  } catch { return 0; }
}

function paymentStatus(id){
  const p = getChargesSum(id);
  return p > 0 ? { text:'Pago Pendiente', adeudo:p.toFixed(2), bad:true } : { text:'Al Corriente', adeudo:'0.00', bad:false };
}

// Lógica de Renderizado y Paginación
function render(){
    const allFiltered = readLocal().filter(s=>{
      const t = filters.text.toLowerCase();
      const st = paymentStatus(s.id);
      const fullName = `${s.nombre} ${s.apellidoP} ${s.apellidoM}`.toLowerCase();
      return ((!t || fullName.includes(t) || s.numControl.toLowerCase().includes(t)) &&
        (!filters.carrera || s.carrera === filters.carrera) &&
        (!filters.semestre || String(s.semestre) === filters.semestre) &&
        (!filters.adeudo || (filters.adeudo==='pendiente' && st.bad) || (filters.adeudo==='corriente' && !st.bad)));
    });

    const totalItems = allFiltered.length;
    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
    
    if (currentPage > totalPages) currentPage = totalPages || 1;

    const start = (currentPage - 1) * ITEMS_PER_PAGE;
    const paginatedList = allFiltered.slice(start, start + ITEMS_PER_PAGE);

    tbodyDesktop.innerHTML = '';
    noResults.classList.toggle('hidden', allFiltered.length > 0);

    paginatedList.forEach((s)=>{
        const st = paymentStatus(s.id);
        const badgeClass = st.bad ? 'badge-pending' : 'badge-current';
        tbodyDesktop.insertAdjacentHTML('beforeend', `
          <tr class="hover:bg-emerald-50 transition border-b border-gray-50">
            <td class="px-6 py-4 font-mono text-xs font-bold text-gray-500">${s.numControl}</td>
            <td class="px-6 py-4 font-bold text-gray-900">${s.nombre} ${s.apellidoP} ${s.apellidoM}</td>
            <td class="px-6 py-4 text-center font-medium">${s.semestre}º</td>
            <td class="px-6 py-4 text-gray-600 text-xs">${CAREER_MAP[s.carrera] || s.carrera}</td>
            <td class="px-6 py-4 text-center">
              <span class="px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${badgeClass}">${st.text}</span>
            </td>
            <td class="px-6 py-4 text-right font-black text-base ${st.bad ? 'text-red-600' : 'text-emerald-700'}">$${st.adeudo}</td>
          </tr>
        `);
    });

    updatePaginationUI(totalItems, totalPages);
}

function updatePaginationUI(totalItems, totalPages) {
    const startItem = totalItems === 0 ? 0 : (currentPage - 1) * ITEMS_PER_PAGE + 1;
    const endItem = Math.min(currentPage * ITEMS_PER_PAGE, totalItems);
    
    paginationInfo.innerText = `Mostrando ${startItem}-${endItem} de ${totalItems} registros`;
    paginationControls.innerHTML = '';

    if (totalPages <= 1) return;

    const createBtn = (label, targetPage, disabled = false, active = false) => {
        const btn = document.createElement('button');
        btn.innerText = label;
        btn.disabled = disabled;
        btn.className = `min-w-[32px] h-8 px-2 rounded-lg text-xs font-black transition-all ${
            active ? 'bg-[#2D584C] text-white shadow-md' : 
            disabled ? 'text-gray-300 cursor-not-allowed' : 'text-gray-500 hover:bg-gray-200'
        }`;
        if (!disabled) btn.onclick = () => { currentPage = targetPage; render(); window.scrollTo({top:0, behavior:'smooth'}); };
        return btn;
    };

    paginationControls.appendChild(createBtn('←', currentPage - 1, currentPage === 1));

    for (let i = 1; i <= totalPages; i++) {
        if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
            paginationControls.appendChild(createBtn(i, i, false, currentPage === i));
        } else if (i === currentPage - 2 || i === currentPage + 2) {
            const span = document.createElement('span');
            span.innerText = '...';
            span.className = 'text-gray-400 px-1';
            paginationControls.appendChild(span);
        }
    }

    paginationControls.appendChild(createBtn('→', currentPage + 1, currentPage === totalPages));
}

// Eventos de Filtro
searchInput.addEventListener('input', (e) => { filters.text = e.target.value; currentPage = 1; render(); });
filterCarrera.addEventListener('change', (e) => { filters.carrera = e.target.value; currentPage = 1; render(); });
filterSemestre.addEventListener('change', (e) => { filters.semestre = e.target.value; currentPage = 1; render(); });
filterAdeudo.addEventListener('change', (e) => { filters.adeudo = e.target.value; currentPage = 1; render(); });

clearFiltersButton.addEventListener('click', () => {
    filters = { text:'', carrera:'', semestre:'', adeudo:'' };
    searchInput.value = ''; filterCarrera.value = ''; filterSemestre.value = ''; filterAdeudo.value = '';
    currentPage = 1;
    render();
    filterMenu.classList.remove('active');
});

// Exportación XLSX
document.getElementById('export-xlsx').addEventListener('click', () => {
    if (typeof XLSX === 'undefined') return alert('Cargando librería...');
    const allStudents = readLocal();
    const wb = XLSX.utils.book_new();
    const uniqueCareers = [...new Set(allStudents.map(s => s.carrera))];

    uniqueCareers.forEach(careerCode => {
        const studentsInCareer = allStudents
            .filter(s => s.carrera === careerCode)
            .sort((a, b) => a.semestre - b.semestre);

        const data = studentsInCareer.map(s => {
            const status = paymentStatus(s.id);
            return {
                'Semestre': s.semestre + 'º',
                'Número de Control': s.numControl, 
                'Nombre Completo': `${s.nombre} ${s.apellidoP} ${s.apellidoM}`,
                'Carrera': CAREER_MAP[s.carrera] || s.carrera,
                'Estado Financiero': status.text, 
                'Adeudo Pendiente': parseFloat(status.adeudo)
            };
        });

        if (data.length > 0) {
            const ws = XLSX.utils.json_to_sheet(data);
            let sheetName = (CAREER_MAP[careerCode] || careerCode || 'General')
                .replace(/[\\*?:/\[\]]/g, '').substring(0, 31);
            XLSX.utils.book_append_sheet(wb, ws, sheetName);
        }
    });
    XLSX.writeFile(wb, `Reporte_General_${new Date().toLocaleDateString().replace(/\//g, '-')}.xlsx`);
});

window.onload = render;
</script> </div> </main> <script>
		const sidebar = document.getElementById('sidebar-menu');
		const openButton = document.getElementById('open-sidebar-button');
		const closeButton = document.getElementById('close-sidebar-button');
		const navLinks = document.querySelectorAll('.nav-link');
		const activeClass = 'nav-active';
		const inactiveClass = 'nav-inactive';


		function setActiveLink() {
			// Normaliza la ruta actual: / o /Dashboard
			let currentPath = window.location.pathname.replace(/\/$/, "");
			if (currentPath === "") currentPath = "/Dashboard";
			
			navLinks.forEach(link => {
				const linkPath = link.getAttribute('data-path');
				
				link.classList.remove(activeClass, inactiveClass);


				if (linkPath === currentPath) {
					link.classList.add(activeClass);
				} else {
					link.classList.add(inactiveClass);
				}
			});
		}


		function openSidebar() {
			sidebar.classList.remove('sidebar-closed', 'hidden');
			openButton.style.display = 'none';
			document.body.style.overflow = 'hidden';
			if (window.innerWidth < 768) {
				sidebar.classList.remove('hidden');
				sidebar.classList.add('fixed', 'inset-0');
			}
		}

		function closeSidebar() {
			sidebar.classList.add('sidebar-closed');
			// Usamos setTimeout solo para acciones después de la transición
			setTimeout(() => {
				if (window.innerWidth < 768) {
					sidebar.classList.add('hidden');
					sidebar.classList.remove('fixed', 'inset-0');
					openButton.style.display = 'block';
				}
				document.body.style.overflow = '';
			}, 300); // 300ms = duración de la transición CSS
		}


		openButton?.addEventListener('click', openSidebar);
		closeButton?.addEventListener('click', closeSidebar);
		
		// Cerrar sidebar en móvil al hacer click en un enlace
		navLinks.forEach(link => link.addEventListener('click', (e) => {
			if (window.innerWidth < 768) closeSidebar();
			// No llamar setActiveLink aquí, sino dejar que Astro lo maneje o window.load
		}));


		const handleResize = () => {
			if (window.innerWidth >= 768) {
				// Desktop: Sidebar siempre visible y abierto
				sidebar.classList.remove('hidden', 'sidebar-closed', 'inset-0');
				openButton.style.display = 'none';
				document.body.style.overflow = '';
			} else {
				// Mobile: Ocultar si está cerrado
				if (sidebar.classList.contains('sidebar-closed')) {
                    sidebar.classList.add('hidden');
                    openButton.style.display = 'block';
                } else {
                    openButton.style.display = 'none';
                }
			}
		};


		window.addEventListener('resize', handleResize);
		window.addEventListener('load', () => { handleResize(); setActiveLink(); });
		document.addEventListener("astro:after-swap", setActiveLink);
	</script> </body> </html>